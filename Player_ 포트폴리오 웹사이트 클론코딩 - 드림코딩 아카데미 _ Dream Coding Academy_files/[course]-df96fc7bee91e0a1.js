(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4141],{32106:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/courses/player/[course]",function(){return t(86471)}])},65575:function(e,n,t){"use strict";t.d(n,{W:function(){return i}});var r=t(85893),s=t(67294),l=t(29244);function i(e){var n=e.buttonContent,t=e.children,i=e.initialOpen,a=void 0!==i&&i,o=e.onOpen,c=(0,s.useState)(a),u=c[0],d=c[1];(0,s.useEffect)((function(){d(a)}),[a]);var m=(0,s.useCallback)((function(e){null===o||void 0===o||o(0!==e)}),[o]);return(0,r.jsxs)("article",{className:"relative",children:[(0,r.jsx)("button",{className:"accordion_button w-full cursor-pointer",onClick:function(){return d(!u)},children:n(u)}),(0,r.jsx)(l.Z,{id:"sliding_wrapper",duration:300,height:u?"auto":0,onHeightAnimationEnd:m,children:t})]})}},23946:function(e,n,t){"use strict";t.d(n,{f:function(){return s}});var r=t(85893);function s(e){var n=e.width,t=void 0===n?"1.5rem":n,s=e.height,l=void 0===s?"1.5rem":s;return(0,r.jsx)("svg",{width:t,height:l,viewBox:"0 0 24 24",fill:"CurrentColor",children:(0,r.jsx)("path",{d:"M13 17h4v1h-4v-1zm0-1h4v-1h-4v1zm9-14v22h-20v-22h3c1.23 0 2.181-1.084 3-2h8c.82.916 1.771 2 3 2h3zm-11 1c0 .552.448 1 1 1 .553 0 1-.448 1-1s-.447-1-1-1c-.552 0-1 .448-1 1zm9 1h-4l-2 2h-3.897l-2.103-2h-4v18h16v-18zm-7 9h4v-1h-4v1zm0-2h4v-1h-4v1zm-6.5.077l.386-.355c.449.218.735.383 1.241.745.952-1.081 1.58-1.627 2.748-2.355l.125.288c-.963.841-1.669 1.777-2.686 3.6-.626-.738-1.044-1.208-1.814-1.923zm.098 5l.386-.355c.449.218.735.383 1.241.745.952-1.081 1.58-1.627 2.748-2.355l.125.289c-.963.841-1.669 1.777-2.686 3.6-.627-.739-1.045-1.209-1.814-1.924z"})})}},61083:function(e,n,t){"use strict";t.d(n,{y:function(){return i}});var r=t(85893),s=t(42482);function l(e){var n=e.color,t=void 0===n?"fill-red-600":n;return(0,r.jsxs)("svg",{role:"status",className:"inline w-12 h-12 mr-3 text-wgray-200 animate-spin ".concat(t),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}function i(e){var n=e.message,t=void 0===n?"".concat((0,s.Z)("msgLoading"),"..."):n;return(0,r.jsx)("div",{className:"absolute flex inset-0 flex-row justify-center items-center z-50",children:(0,r.jsxs)("div",{className:"flex flex-row justify-center items-center px-4 w-full h-full backdrop-filter backdrop-blur-sm",children:[(0,r.jsx)(l,{}),(0,r.jsx)("span",{className:"text-dm text-center font-normal text-lg align-middle",children:t})]})})}},99023:function(e,n,t){"use strict";t.d(n,{k:function(){return l}});var r=t(85893),s=t(42482),l=(0,t(67294).memo)((function(e){var n=e.progress,t=e.barClassName,l=void 0===t?"bg-wgray-400":t,i=e.stickClassName,a=void 0===i?"bg-rose-600 dark:bg-yellow-400":i,o=e.textClassName,c=void 0===o?"text-rose-600 dark:text-yellow-400":o;return(0,r.jsxs)("div",{className:"h-auto w-full flex flex-col",children:[(0,r.jsx)("div",{className:"h-2 w-full bg-opacity-30 rounded-full mb-1 ".concat(l),children:(0,r.jsx)("div",{className:"h-2 rounded-full ".concat(a),style:{width:"".concat(n,"%")}})}),(0,r.jsxs)("span",{className:"mt-1 text-sm font-medium self-end ".concat(c),children:[n.toFixed(),"% ",(0,s.Z)("txtProgressComplete")]})]})}));l.displayName="ProgressBar"},86006:function(e,n,t){"use strict";t.d(n,{j:function(){return p}});var r=t(828),s=t(7297),l=t(85893),i=t(81621),a=t(67294),o=t(46999),c=t(31505),u=t(9752),d=t(69589),m=t(42482);function f(){var e=(0,s.Z)(["\n  query getUnpublishedReview($course: ID!) {\n    getUserReview(course: $course) {\n      id\n      title\n      rating\n      comment\n    }\n  }\n"]);return f=function(){return e},e}function x(){var e=(0,s.Z)(["\n  mutation submitReview($input: SubmitReviewInput!) {\n    submitReview(input: $input) {\n      id\n      title\n      rating\n      comment\n    }\n  }\n"]);return x=function(){return e},e}var v=(0,i.ZP)(f()),h=(0,i.ZP)(x());function p(e){var n=e.courseTitle,t=e.courseId,s=e.onSubmitted,i=(0,a.useState)(""),f=i[0],x=i[1],p=(0,a.useState)(""),y=p[0],w=p[1],g=(0,a.useState)(5),b=g[0],j=g[1],N=(0,a.useState)(!1),C=N[0],k=N[1],L=(0,a.useState)(),Z=L[0],_=L[1],S=(0,r.Z)((0,d.G)(h,{onError:function(e){_(e)},update:function(e,n){var t=n.data;t&&e.modify({id:e.identify({__typename:"Review",id:t.submitReview.id}),fields:{title:function(e){return t.submitReview.title},comment:function(e){return t.submitReview.comment},rating:function(e){return t.submitReview.rating}}})},onCompleted:function(e){k(!0)}}),1),R=S[0],E=(0,u.u_)(v,{fetchPolicy:"cache-and-network",variables:{course:t}}),D=E.data,P=(E.loading,E.error);return(0,a.useEffect)((function(){(null===D||void 0===D?void 0:D.getUserReview)&&(x(D.getUserReview.title),w(D.getUserReview.comment),j(D.getUserReview.rating))}),[D]),(0,a.useEffect)((function(){null===s||void 0===s||s(C)}),[C,s]),P?(0,l.jsx)(o.H4,{}):C?(0,l.jsxs)("div",{className:"flex flex-col w-full items-center p-6 ",children:[(0,l.jsx)("h2",{className:"w-full text-center text-3xl mb-2 -mt-8",children:(0,m.Z)("msgThankYou")}),(0,l.jsx)("p",{className:"text-xl",children:(0,m.Z)("msgReviewSubmitted")})]}):(0,l.jsxs)("section",{className:"w-full px-4 sm:px-8 py-2 sm:py-4 lg:py-8 text-current",children:[Z&&(0,l.jsx)(o.H4,{message:Z.message}),(0,l.jsx)("h1",{className:"text-left text-2xl sm:text-3xl font-bold",children:n}),(0,l.jsx)("h2",{className:"text-left text-1xl sm:text-2xl font-medium my-2",children:"".concat((0,m.Z)("txtLeaveFeedbackForCourse"),":")}),(0,l.jsxs)("form",{id:"submit-review",className:"flex flex-col items-start text-md font-medium pt-2 pb-8",onSubmit:function(e){return function(e){e.preventDefault(),R({variables:{input:{course:t,title:f,comment:y,rating:b}}})}(e)},children:[(0,l.jsx)("label",{htmlFor:"review-title",id:"review-title-label",className:"required",children:(0,m.Z)("txtReviewTitle")}),(0,l.jsx)("input",{className:"w-full mb-6 border border-wgray-400 border-opacity-10 bg-wgray-100 text-wgray-900",type:"text",id:"review-title","aria-labelledby":"review-title-label",required:!0,value:null!==f&&void 0!==f?f:"",onChange:function(e){return x(e.target.value)}}),(0,l.jsx)("label",{htmlFor:"review-body",id:"review-body-label",className:"required",children:(0,m.Z)("txtReviewBody")}),(0,l.jsx)("textarea",{className:"w-full h-40 mb-6 border border-wgray-400 border-opacity-10 bg-wgray-100 text-wgray-900",id:"review-body","aria-labelledby":"review-body-label",required:!0,value:null!==y&&void 0!==y?y:"",onChange:function(e){return w(e.target.value)}}),(0,l.jsx)("label",{id:"rating-label",children:(0,m.Z)("txtRating")}),(0,l.jsx)("span",{className:"text-3xl py-2",children:(0,l.jsx)(c.Z,{"aria-labelledby":"rating-label",rating:null!==b&&void 0!==b?b:5,interactive:!0,onRateChange:j})})]}),(0,l.jsx)("button",{className:"btn-red",type:"submit",form:"submit-review","aria-label":"submit review",children:(0,m.Z)("btnSubmitReview")})]})}},31505:function(e,n,t){"use strict";var r=t(29815),s=t(85893),l=t(67294),i=t(89583),a=(0,l.memo)((function(e){var n=e.color,t=void 0===n?"text-red-400":n,a=e.rating,o=e.showRating,c=e.ratingCount,u=e.interactive,d=e.onRateChange,m=Math.round(a),f=(0,l.useState)(0),x=f[0],v=f[1];return(0,s.jsxs)("div",{className:"flex items-center",children:[(0,r.Z)(Array(5)).map((function(e,n){var r=n+1;return(0,s.jsx)("button",{type:"button",className:"".concat(t," ").concat(r<=m?t:r<=x?"brightness-110 saturate-[70%]":"saturate-0"," ").concat(u?"cursor-pointer":"cursor-default"," bg-transparent border-none outline-none"),onClick:u?function(){return function(e){null===d||void 0===d||d(e)}(r)}:void 0,onMouseEnter:u?function(){return v(r)}:void 0,onMouseLeave:u?function(){return v(0)}:void 0,children:(0,s.jsx)(i.QJe,{})},r)})),o&&(0,s.jsxs)("span",{children:["(",a,")"]}),void 0!==c&&(0,s.jsxs)("span",{className:"text-wgray-600 dark:text-wgray-300 ml-1 text-xs",children:["(",c,")"]})]})}));a.displayName="StarRating",n.Z=a},37332:function(e,n,t){"use strict";t.d(n,{s:function(){return s}});var r=t(67294);function s(e){var n=e.loading,t=e.delayMs,s=(0,r.useState)(!1),l=s[0],i=s[1],a=(0,r.useRef)(void 0);return(0,r.useEffect)((function(){return n?a.current=setTimeout((function(){i(!0)}),t):(a.current&&clearTimeout(a.current),i(!1)),function(){return a.current&&clearTimeout(a.current)}}),[a,n,t]),{showLoader:l}}},23320:function(e,n,t){"use strict";t.d(n,{a:function(){return s}});var r=t(67294);function s(e){var n=(0,r.useState)(!1),t=n[0],s=n[1];return(0,r.useEffect)((function(){var n=window.matchMedia(e);n.matches!==t&&s(n.matches);var r=function(){s(n.matches)};return n.addEventListener("change",r),function(){return n.removeEventListener("change",r)}}),[t,e]),t}},94905:function(e,n,t){"use strict";t.d(n,{V:function(){return s}});var r=t(67294);function s(e){var n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var t=function(t){n.current&&!n.current.contains(t.target)&&e()};return document.addEventListener("click",t,!0),function(){document.removeEventListener("click",t,!0)}}),[e]),{innerBorderRef:n}}},86471:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Hn},withDynamicCourseInfo:function(){return Un}});var r=t(47568),s=t(40872),l=t(26042),i=t(69396),a=t(828),o=t(7297),c=t(20414),u=t(85893),d=t(41798);function m(e){var n=e.width,t=void 0===n?"1.5rem":n,r=e.height,s=void 0===r?"1.5rem":r;return(0,u.jsx)("svg",{width:t,height:s,viewBox:"0 0 24 24",children:(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5023 12C19.5023 12.34 19.4723 12.66 19.4323 12.98L21.5423 14.63C21.7323 14.78 21.7823 15.05 21.6623 15.27L19.6623 18.73C19.5723 18.89 19.4023 18.98 19.2323 18.98C19.1723 18.98 19.1123 18.97 19.0523 18.95L16.5623 17.95C16.0423 18.34 15.4823 18.68 14.8723 18.93L14.4923 21.58C14.4623 21.82 14.2523 22 14.0023 22H10.0023C9.75228 22 9.54228 21.82 9.51228 21.58L9.13228 18.93C8.52228 18.68 7.96228 18.35 7.44228 17.95L4.95228 18.95C4.90228 18.97 4.84228 18.98 4.78228 18.98C4.60228 18.98 4.43228 18.89 4.34228 18.73L2.34228 15.27C2.22228 15.05 2.27228 14.78 2.46228 14.63L4.57228 12.98C4.53228 12.66 4.50228 12.33 4.50228 12C4.50228 11.67 4.53228 11.34 4.57228 11.02L2.46228 9.37C2.27228 9.22 2.21228 8.95 2.34228 8.73L4.34228 5.27C4.43228 5.11 4.60228 5.02 4.77228 5.02C4.83228 5.02 4.89228 5.03 4.95228 5.05L7.44228 6.05C7.96228 5.66 8.52228 5.32 9.13228 5.07L9.51228 2.42C9.54228 2.18 9.75228 2 10.0023 2H14.0023C14.2523 2 14.4623 2.18 14.4923 2.42L14.8723 5.07C15.4823 5.32 16.0423 5.65 16.5623 6.05L19.0523 5.05C19.1023 5.03 19.1623 5.02 19.2223 5.02C19.4023 5.02 19.5723 5.11 19.6623 5.27L21.6623 8.73C21.7823 8.95 21.7323 9.22 21.5423 9.37L19.4323 11.02C19.4723 11.34 19.5023 11.66 19.5023 12ZM17.5023 12C17.5023 11.79 17.4923 11.58 17.4523 11.27L17.3123 10.14L18.2023 9.44L19.2723 8.59L18.5723 7.38L17.3023 7.89L16.2423 8.32L15.3323 7.62C14.9323 7.32 14.5323 7.09 14.1023 6.91L13.0423 6.48L12.8823 5.35L12.6923 4H11.3023L11.1023 5.35L10.9423 6.48L9.88228 6.91C9.47228 7.08 9.06228 7.32 8.63228 7.64L7.73228 8.32L6.69228 7.9L5.42228 7.39L4.72228 8.6L5.80228 9.44L6.69228 10.14L6.55228 11.27C6.52228 11.57 6.50228 11.8 6.50228 12C6.50228 12.2 6.52228 12.43 6.55228 12.74L6.69228 13.87L5.80228 14.57L4.72228 15.41L5.42228 16.62L6.69228 16.11L7.75228 15.68L8.66228 16.38C9.06228 16.68 9.46228 16.91 9.89228 17.09L10.9523 17.52L11.1123 18.65L11.3023 20H12.7023L12.9023 18.65L13.0623 17.52L14.1223 17.09C14.5323 16.92 14.9423 16.68 15.3723 16.36L16.2723 15.68L17.3123 16.1L18.5823 16.61L19.2823 15.4L18.2023 14.56L17.3123 13.86L17.4523 12.73C17.4823 12.43 17.5023 12.21 17.5023 12ZM12.0023 8C9.79228 8 8.00228 9.79 8.00228 12C8.00228 14.21 9.79228 16 12.0023 16C14.2123 16 16.0023 14.21 16.0023 12C16.0023 9.79 14.2123 8 12.0023 8ZM10.0023 12C10.0023 13.1 10.9023 14 12.0023 14C13.1023 14 14.0023 13.1 14.0023 12C14.0023 10.9 13.1023 10 12.0023 10C10.9023 10 10.0023 10.9 10.0023 12Z",fill:"CurrentColor"})})}function f(e){var n=e.width,t=void 0===n?"1.5rem":n,r=e.height,s=void 0===r?"1.5rem":r;return(0,u.jsx)("svg",{width:t,height:s,viewBox:"0 0 24 24",children:(0,u.jsx)("path",{d:"M12 5.69L17 10.19V18H15V12H9V18H7V10.19L12 5.69ZM12 3L2 12H5V20H11V14H13V20H19V12H22L12 3Z",fill:"currentColor"})})}var x=t(89563);function v(e){var n=e.label,t=e.isChecked,r=e.onStateChange;return(0,u.jsx)(x.r.Group,{children:(0,u.jsxs)("div",{className:"flex items-center justify-between w-full p-4",onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation()}(e)},children:[(0,u.jsx)(x.r.Label,{className:"w-full capitalize",children:n}),(0,u.jsxs)(x.r,{checked:t,onChange:r,className:"".concat(t?"bg-red-500":"bg-wgray-500","\n          relative inline-flex shrink-0 h-7 w-16 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus-visible:ring-2  focus-visible:ring-white focus-visible:ring-opacity-75"),children:[(0,u.jsx)("span",{className:"sr-only",children:n}),(0,u.jsx)("span",{"aria-hidden":"true",className:"".concat(t?"translate-x-9":"translate-x-0","\n            pointer-events-none inline-block h-6 w-6 rounded-full bg-white shadow-lg transform ring-0 transition ease-in-out duration-200")})]})]})})}var h=t(40912),p=t(47238),y=t(23320),w=t(11163),g=t.n(w),b=t(67294),j=t(62132),N=t.n(j),C=(t(5667),t(21443)),k=t.n(C),L=t(67631),Z=t.n(L);function _(e,n){for(var t=0;t<e.length;t++)if(e[t].height===n)return t;return-1}var S=(0,b.memo)((function(e){var n=e.options,t=e.source,r=e.defaultQuality,s=e.onQualityChange,a=e.onPlayerLoaded,o=e.onVolumeChange,c=e.onRateChange,d=e.onEnded,m=(0,b.useRef)(null),f=(0,b.useRef)(null),x=(0,b.useRef)(null),v=(0,b.useState)(void 0),h=v[0],p=v[1],y=(0,b.useCallback)((function(e){e.detail.plyr.duration-e.detail.plyr.currentTime<.05&&(null===d||void 0===d||d())}),[d]),w=(0,b.useCallback)((function(){null===a||void 0===a||a()}),[a]),g=(0,b.useCallback)((function(e){null===o||void 0===o||o(e.detail.plyr.volume)}),[o]),j=(0,b.useCallback)((function(e){null===c||void 0===c||c(e.detail.plyr.speed)}),[c]),N=(0,b.useCallback)((function(e,n,t){e.current=new(k())(n.current,t),e.current.on("volumechange",g),e.current.on("ratechange",j),e.current.on("loadeddata",w),e.current.on("timeupdate",y)}),[g,j,w,y]),C=(0,b.useCallback)((function(){var e=x.current,t=e.levels,a=t.map((function(e){return e.height}));a.unshift(0),e.startLevel=_(t,r);var o=(0,i.Z)((0,l.Z)({},n),{quality:{default:r,options:a,forced:!0,onChange:function(n){e.currentLevel=0===n?-1:_(t,n),null===s||void 0===s||s(n)}},i18n:{qualityLabel:{0:"Auto"}}});N(m,f,o)}),[n,N,s,r]);return(0,b.useEffect)((function(){if(f.current){var e=t.sources[0];if("html5"===e.provider){if(Z().isSupported())return x.current=function(e,n,t){var r=new(Z())({autoStartLoad:!0,maxMaxBufferLength:45,abrEwmaDefaultEstimate:15e5});return r.loadSource(e),r.attachMedia(n),r.on(Z().Events.MANIFEST_PARSED,(function(){t()})),r.on(Z().Events.LEVEL_SWITCHED,(function(e,n){var t=document.querySelector(".plyr__menu__container [data-plyr='quality'][value='0'] span");t&&(r.autoLevelEnabled?t.innerHTML="Auto (".concat(r.levels[n.level].height,"p)"):t.innerHTML="Auto")})),r}(e.src,f.current,C),function(){m.current&&(m.current.off("timeupdate",y),m.current.off("volumechange",g),m.current.off("ratechange",j),m.current.off("loadeddata",w),m.current.destroy(),m.current=null),x.current&&(x.current.detachMedia(),x.current.destroy(),x.current=null)};if(f.current.canPlayType("application/vnd.apple.mpegURL")){var r=document.createElement("source");r.src=e.src,r.type="application/vnd.apple.mpegURL",f.current.appendChild(r),N(m,f,n),null===a||void 0===a||a()}else p("This device does not support HLS")}else N(m,f,n),m.current.source=t}}),[f,C,n,t,N,a,g,j,w,y]),(0,u.jsxs)(u.Fragment,{children:[h&&(0,u.jsx)("div",{children:h}),!h&&(0,u.jsx)("video",{ref:f,className:"plyr react-plyr",controls:!0})]})}),R);function R(e,n){return e.source===n.source}S.displayName="PlyrComponent";var E=S,D=t(86575),P=t.n(D);function I(){return(0,u.jsx)("div",{className:"inline-block w-40 h-40 overflow-hidden bg-none p-4",children:(0,u.jsx)("div",{className:"".concat(P().spinner," w-full h-full"),children:(0,u.jsx)("div",{className:"text-yellow-400 w-full h-full"})})})}var F={auto:0,360:360,480:480,720:720,1080:1080,"240p":360,"360p":360,"540p":480,"720p":720,"1080p":1080,"1440p":1080,"2160p":1080};var M=[.5,.75,1,1.25,1.5,1.75,2];function H(e){var n,t,r,s=e.url,l=e.provider,i=e.onVideoEnded,a=e.onPlaybackRateChange,o=e.onQualityChange,c=e.onVolumeChange,d=e.playbackSettings,m=(0,b.useState)(!0),f=m[0],x=m[1],v=null!==(n=d.playbackRate)&&void 0!==n?n:1,h=function(e){var n;return null!==(n=F[e])&&void 0!==n?n:0}(d.quality),p=(0,b.useMemo)((function(){return{type:"video",sources:[{provider:"bunny"===l?"html5":null!==l&&void 0!==l?l:"vimeo",src:null!==s&&void 0!==s?s:""}]}}),[s,l]),y=(0,b.useCallback)((function(e){null===o||void 0===o||o(function(e){return 0===e?"Auto":e.toString()}(e))}),[o]);return(0,u.jsxs)("div",{className:"".concat(N().video_frame," w-full relative mb-4 bg-black"),children:[f&&(0,u.jsx)("div",{className:"absolute inset-0 w-full h-full bg-black z-40",children:(0,u.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,u.jsx)(I,{})})}),(0,u.jsx)("div",{className:"absolute inset-0 w-full h-full",children:(0,u.jsx)(E,{source:p,options:{settings:["quality","speed"],hideControls:!0,seekTime:5,autoplay:null!==(t=d.autoplay)&&void 0!==t&&t,volume:null!==(r=null===d||void 0===d?void 0:d.volume)&&void 0!==r?r:1,speed:{selected:v,options:M},storage:{enabled:!1},keyboard:{global:!0,focused:!0}},defaultQuality:h,onVolumeChange:c,onRateChange:a,onQualityChange:y,onEnded:i,onPlayerLoaded:function(){return x(!1)}})})]})}var q=t(81621),U=t(85317),$=t(51649),B=t(89583),T=t(75426),z=t(41664),V=t.n(z),A=t(25935),O=t(68924),G=t.n(O),Q=(0,i.Z)((0,l.Z)({},O.whiteList),{iframe:["allowfullscreen","allow","autoplay","scrolling","frameborder","picture-in-picture","width","height","src"]});Object.keys(Q).forEach((function(e){Q[e]=Q[e].concat(["style","class"])}));var W={whiteList:Q,css:!1};function K(e){var n=function(e){return G()(e,W)}(null!==e&&void 0!==e?e:"");return(0,A.ZP)(n)}var J=t(86834),Y=t.n(J);function X(e){var n=e.lecture,t=e.videoFrame;return(0,u.jsxs)(u.Fragment,{children:[(null===n||void 0===n?void 0:n.video)&&(0,u.jsx)(u.Fragment,{children:t}),(null===n||void 0===n?void 0:n.content)&&(0,u.jsx)("article",{className:"lecture-content w-full mt-4 py-2 px-16 text-base text-wgray-200",children:(0,u.jsx)("div",{className:"".concat(Y().html_container," max-w-screen-md mx-auto"),children:K(null===n||void 0===n?void 0:n.content)})})]})}var ee=t(14924),ne=t(42482);function te(e){var n,t=e.survey,r=e.onSubmit,s=(0,b.useState)({}),a=s[0],o=s[1];return(0,u.jsxs)("article",{className:"survey-content flex flex-col items-center w-full mt-4 py-2 md:px-16 text-base text-wgray-200",style:{maxWidth:"calc(85vh / 0.5625)"},children:[(0,u.jsx)("h2",{className:"pb-4 font-semibold text-2xl",children:t.title}),(0,u.jsxs)("form",{id:t.id,onSubmit:function(e){return function(e){e.preventDefault(),r(t.title,a)}(e)},className:"flex flex-col items-center w-full max-w-2xl",children:[(0,u.jsx)("ul",{className:"flex flex-col w-full py-8 justify-center items-center md:border border-slate-500 md:rounded px-2 md:px-4 lg:px-10 bg-slate-700",children:null===(n=t.questions)||void 0===n?void 0:n.map((function(e){return(0,u.jsxs)("li",{className:"w-full mb-8",children:[(0,u.jsx)("label",{htmlFor:e.question,className:"w-full justify-start items-start ".concat(e.optional?"":"required"),children:e.question}),(0,u.jsx)("textarea",{name:e.question,id:e.question,required:!e.optional,onChange:function(n){return function(e,n){o((function(t){return(0,i.Z)((0,l.Z)({},t),(0,ee.Z)({},e,n))}))}(e.question,n.target.value)},className:"mt-2 w-full bg-wgray-200 h-24 text-wgray-800 text-base"})]},e.id)}))}),(0,u.jsx)("button",{className:"btn-red mt-2 capitalize",type:"submit",children:(0,ne.Z)("btnSubmitSurvey")})]})]})}var re=t(9752),se=t(69589),le=t(61083),ie=t(46999),ae=t(59194),oe=t(37332);function ce(){var e=(0,o.Z)(["\n  query archivedLessonData($id: ID!, $userId: ID) {\n    lesson(id: $id) {\n      __typename\n      data {\n        __typename\n        id\n        match(userId: $userId)\n        title\n        type\n        allowComments\n        canSee\n        discussionCount\n      }\n    }\n  }\n"]);return ce=function(){return e},e}function ue(){var e=(0,o.Z)(["\n  query lessonData($id: ID!, $userId: ID) {\n    lesson(id: $id) {\n      __typename\n      data {\n        __typename\n        id\n        match(userId: $userId)\n        title\n        type\n        canSee\n        allowComments\n        submitted\n        discussionCount\n        downloads {\n          data {\n            __typename\n            id\n            name\n            size\n            url\n          }\n        }\n        body {\n          __typename\n          ... on ComponentDefaultLecture {\n            id\n            video {\n              data {\n                __typename\n                id\n                source\n                altSource\n                provider\n              }\n            }\n            content\n          }\n          ... on ComponentDefaultSurvey {\n            title\n            questions {\n              id\n              question\n              optional\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return ue=function(){return e},e}function de(){var e=(0,o.Z)(["\n  mutation respondToSurvey($input: SurveyInput!) {\n    createSurvey(data: $input) {\n      data {\n        __typename\n        id\n        name\n        course {\n          data {\n            __typename\n            id\n          }\n        }\n        lesson {\n          data {\n            __typename\n            id\n          }\n        }\n        user {\n          data {\n            __typename\n            id\n          }\n        }\n        responses {\n          id\n          question\n          response\n        }\n      }\n    }\n  }\n"]);return de=function(){return e},e}function me(){var e=(0,o.Z)(["\n            fragment UpdatedLesson on Lesson {\n              hasSeen\n            }\n          "]);return me=function(){return e},e}var fe=(0,q.Ps)(ce()),xe=(0,q.Ps)(ue()),ve=(0,q.Ps)(de());function he(e){return(0,u.jsx)(ye,{children:(0,u.jsx)(pe,(0,l.Z)({},e))})}function pe(e){var n,t,s=e.lessonId,l=e.userId,i=e.course,o=e.onLessonLoad,d=e.onPlayEnd,m=e.onSpeedChange,f=e.onQualityChange,x=e.onVolumeChange,v=e.onSubmitSurvey,p=e.playerSettings,y=e.showPlayer,w=void 0===y||y,j=function(e){var n,t,r;return null!==(r="ComponentDefaultSurvey"==(null===e||void 0===e||null===(n=e.body)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.__typename))&&void 0!==r&&r},N=function(e){return e.body[0]},C=function(e){var n,t;return"bunny"===(null===(n=e.video)||void 0===n?void 0:n.provider)?e.video.altSource:null===(t=e.video)||void 0===t?void 0:t.source},k=i.freeEnroll?"/courses/".concat(i.slug,"/enroll"):"/courses/".concat(i.slug,"/checkout"),L=(0,h.aC)(),Z=(0,b.useState)(!1),_=Z[0],S=Z[1],R=(0,b.useContext)((0,U.K)()).client,E=(0,re.u_)(i.archived?fe:xe,{variables:{id:s,userId:l},onCompleted:function(e){o(e.lesson),e.lesson.match||(L.reset(!0),L.signIn({redirectUrl:g().asPath})),i.archived||null===R||void 0===R||R.writeFragment({id:"Lesson:".concat(s),fragment:(0,q.Ps)(me()),data:{hasSeen:!0}})}}),D=E.data,P=E.loading,I=E.error,F=(0,oe.s)({loading:P,delayMs:800}).showLoader,M=(0,a.Z)((0,se.G)(ve,{onCompleted:function(){null===v||void 0===v||v()},update:function(e,n){var t,r,s,l=n.data;if(l){var i=l.createSurvey;e.modify({id:e.identify({__typename:"Lesson",id:null===(t=i.data)||void 0===t||null===(r=t.lesson)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.id}),fields:{submitted:function(e){return!0}}})}}}),2),z=M[0],A=M[1].data;function O(){return(O=(0,r.Z)((function(e,n){return(0,c.__generator)(this,(function(t){return z({variables:{input:{name:e,responses:Object.entries(n).map((function(e){return{question:e[0],response:e[1]}})),course:i.id,lesson:s}}}),[2]}))}))).apply(this,arguments)}return(0,b.useEffect)((function(){S(!1)}),[s]),i.archived?(0,u.jsxs)("div",{className:"flex flex-col w-full max-w-xl m-auto items-center bg-wgray-50 rounded-lg py-6 px-16 text-wgray-600 border",children:[(0,u.jsx)(B.ALl,{className:"h-12 w-12 m-4 text-red-500"}),(0,u.jsx)("h3",{className:"text-xl leading-6 font-medium my-4 text-wgray-900 text-center",children:(0,ne.Z)("txtCourseIsArchived")}),(0,u.jsx)("h4",{className:"text-base leading-6 my-2 text-wgray-900 text-center",children:(0,ne.Z)("txtArchivedCourseCanDo")})]}):F?(0,u.jsx)("div",{className:"relative w-full h-full text-wgray-100",children:(0,u.jsx)(le.y,{})}):P?null:I?(0,u.jsx)("div",{className:"flex flex-row w-full justify-center items-center",children:(0,u.jsx)(ie.H4,{message:(0,ne.Z)("msgFailedLoadLesson")})}):(null===D||void 0===D?void 0:D.lesson)?!1===(null===D||void 0===D?void 0:D.lesson.canSee)?(0,u.jsxs)("div",{className:"flex flex-col w-full max-w-xl m-auto items-center bg-wgray-50 rounded-lg py-6 px-16 text-wgray-600 border",children:[(0,u.jsx)($.wF$,{className:"h-9 w-9 m-4 text-red-500"}),(0,u.jsx)("h3",{className:"text-xl leading-6 font-medium my-4 text-wgray-900 text-center",children:(0,ne.Z)("txtContentIsNotFree")}),(0,u.jsx)("h4",{className:"text-base leading-6 my-2 text-wgray-900 text-center",children:(0,ne.Z)("txtEnrollToAccessAll")}),(0,u.jsx)(V(),{href:k,passHref:!0,children:(0,u.jsx)("button",{className:"btn btn-red my-4",children:(0,ne.Z)("btnEnrollNow")})}),(0,u.jsxs)("p",{className:"my-4",children:["".concat((0,ne.Z)("txtIfAlreadyEnrolled")," "),(0,u.jsx)("button",{className:"underline text-red-500 font-medium",onClick:function(){return L.signIn({redirectUrl:g().asPath})},children:(0,ne.Z)("btnLogin")})]})]}):(0,u.jsxs)("div",{className:"lesson-main-panel flex flex-col w-full py-2 items-center overflow-x-hidden overflow-y-auto overscroll-x-none overscroll-y-auto",children:[function(e){var n,t,r;return null!==(r="ComponentDefaultLecture"==(null===e||void 0===e||null===(n=e.body)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.__typename))&&void 0!==r&&r}(null===D||void 0===D?void 0:D.lesson)&&(0,u.jsx)("div",{className:"relative w-full flex flex-col items-center",children:(0,u.jsx)(X,{lecture:N(null===D||void 0===D?void 0:D.lesson),videoFrame:w||_?(0,u.jsx)(H,{provider:null===(n=N(null===D||void 0===D?void 0:D.lesson).video)||void 0===n?void 0:n.provider,url:C(N(null===D||void 0===D?void 0:D.lesson)),playbackSettings:p,onVideoEnded:d,onPlaybackRateChange:m,onQualityChange:f,onVolumeChange:x},C(N(null===D||void 0===D?void 0:D.lesson))):(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-white",children:"Player is hidden"}),(0,u.jsx)("button",{className:"btn btn-blue",onClick:function(){return S(!0)},children:"Show Player"})]})})}),j(null===D||void 0===D?void 0:D.lesson)&&!(null===D||void 0===D?void 0:D.lesson.submitted)&&(0,u.jsx)(te,{survey:(t=null===D||void 0===D?void 0:D.lesson,t.body[0]),onSubmit:function(e,n){return function(e,n){return O.apply(this,arguments)}(e,n)}}),j(null===D||void 0===D?void 0:D.lesson)&&(null===D||void 0===D?void 0:D.lesson.submitted)&&A&&(0,u.jsx)("div",{className:"flex flex-col max-w-screen-md items-center justify-center mx-auto ",children:(0,u.jsxs)("div",{className:"flex flex-col items-center bg-white shadow rounded-lg p-6 text-wgray-800",children:[(0,u.jsx)(T.Z,{width:"2.5em",height:"2.5em",className:"text-green-500"}),(0,u.jsx)("h3",{className:"text-lg sm:text-2xl leading-6 font-medium text-wgray-900 my-2",children:(0,ne.Z)("msgThankYou")}),(0,u.jsx)("h3",{className:"text-base sm:text-xl leading-6 font-medium text-wgray-900",children:(0,ne.Z)("msgSurveyResponseReceived")})]})}),j(null===D||void 0===D?void 0:D.lesson)&&(null===D||void 0===D?void 0:D.lesson.submitted)&&!A&&(0,u.jsx)("div",{className:"flex flex-col max-w-screen-md items-center justify-center mx-auto",children:(0,u.jsxs)("div",{className:"flex flex-col items-center bg-white rounded-lg p-2 sm:p-6 text-wgray-800",children:[(0,u.jsx)(T.Z,{width:"2.5em",height:"2.5em",className:"text-green-500"}),(0,u.jsx)("h3",{className:"text-base sm:text-xl leading-6 font-medium text-wgray-900 my-2",children:(0,ne.Z)("msgSurveyAlreadySubmitted")})]})}),(null===D||void 0===D?void 0:D.lesson.downloads)&&(0,u.jsx)("ul",{className:"download-list flex flex-col justify-center items-center w-full",children:null===D||void 0===D?void 0:D.lesson.downloads.map((function(e){return(0,u.jsxs)("li",{className:"flex flex-row items-center justify-between max-w-screen-md py-4 px-6 m-2 w-full bg-player-gray border-player-lightgray text-wgray-100 border rounded-sm",children:[(0,u.jsxs)("div",{className:"block overflow-hidden text-ellipsis whitespace-nowrap mr-4",children:[(0,u.jsx)("span",{className:"download-name text-base font-semibold",children:e.name}),(0,u.jsx)("span",{className:"block download-name text-sm",children:(0,ae.td)(1e3*e.size)})]}),(0,u.jsx)("a",{href:e.url,className:"btn-red capitalize whitespace-nowrap",children:(0,ne.Z)("btnDownload")})]},e.id)}))})]}):(0,u.jsx)("div",{className:"flex flex-row w-full justify-center items-center",children:(0,u.jsx)(ie.Xx,{message:(0,ne.Z)("msgLessonNotFound")})})}function ye(e){var n=e.children;return(0,u.jsx)("section",{className:"lesson-view w-full h-full bg-player-darkergray pt-2 pb-2 md:px-8 overflow-x-hidden",children:n})}var we=t(94905);function ge(e){var n=e.onClose,t=e.children,r=(0,we.V)((function(){return n()})).innerBorderRef;return(0,u.jsx)("div",{className:"modal-overlay flex flex-col items-center justify-center z-50 fixed top-0 left-0 w-screen h-screen overflow-hidden bg-opacity-60 backdrop-filter backdrop-brightness-75 backdrop-saturate-0 backdrop-blur-[2px]",children:(0,u.jsxs)("section",{ref:r,className:"flex flex-col w-full max-w-xl md:max-w-3xl bg-player-coolgray rounded-sm shadow-2xl overflow-hidden",children:[(0,u.jsx)("div",{className:"dialog-header flex flex-row justify-end px-1 py-1",children:(0,u.jsx)("button",{className:"text-slate-400 text-lg px-2 py-1 rounded-lg font-bold hover:text-white",onClick:function(){return n()},children:"\u2573"})}),(0,u.jsx)("div",{className:"content text-wgray-50",children:t})]})})}var be=t(86006);function je(e){var n=e.courseTitle,t=e.onRateBtnClick;return(0,u.jsxs)("section",{className:"flex flex-col items-center justify-center max-w-4xl w-full rounded-sm px-8 pb-8 sm:px-16 lg:px-32 text-current",children:[(0,u.jsx)("h1",{className:"text-center text-xl font-medium mb-1",children:(0,ne.Z)("msgCongratsCompletedCourse")}),(0,u.jsx)("h2",{className:"text-center text-lg font-semibold my-2",children:n}),(0,u.jsxs)("div",{className:"button-container flex flex-col gap-6 min-w-[10rem] py-4",children:[(0,u.jsx)("button",{className:"btn-red-inversive hover:bg-black/0 p-4",onClick:function(){return t()},children:(0,u.jsxs)("span",{className:"flex items-center",children:[(0,u.jsx)(B.QJe,{className:"inline mr-2 w-6 h-6 capitalize"}),(0,u.jsx)("span",{className:"text-white",children:(0,ne.Z)("btnRateThisCourse")})]})}),(0,u.jsx)(V(),{href:"/dashboard",passHref:!0,children:(0,u.jsx)("a",{className:"btn text-wgray-100 text-lg font-medium border-player-lightergray bg-player-coolgray uppercase text-center p-4 border-2 hover:brightness-200",children:(0,ne.Z)("btnGoDashboard")})})]}),(0,u.jsx)("p",{className:"w-auto text-center mt-8 uppercase text-wgray-300",children:"dream coding academy"})]})}function Ne(e){var n=e.onClick;return(0,u.jsx)("button",{className:"btn-gray flex flex-row items-center text-center bg-gradient-to-tr from-blue-600 to-blue-700",onClick:function(){return null===n||void 0===n?void 0:n()},children:(0,u.jsxs)("span",{className:"flex items-center text-sm ",children:[(0,u.jsx)(B.QJe,{className:"inline mr-1 w-3.5 h-3"}),(0,ne.Z)("btnRateThisCourse")]})})}function Ce(e){var n=e.children,t=e.show,r=e.onClick;return(0,u.jsx)(u.Fragment,{children:t&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("button",{className:"btn-gray py-1 text-base cursor-pointer hover:bg-yellow-400 hover:text-wgray-900",onClick:function(){return r()},children:n})})})}function ke(e){var n=e.showPrev,t=e.showNext,r=e.onNext,s=e.onPrev;return(0,u.jsxs)("nav",{className:"navigation flex flex-row w-full items-center justify-between py-1",children:[(0,u.jsx)("div",{className:"flex flex-row justify-start mr-4",children:(0,u.jsxs)(Ce,{onClick:s,show:n,children:[(0,u.jsx)("span",{className:"inline sm:hidden",children:"\u2190"}),(0,u.jsx)("span",{className:"hidden sm:inline",children:"\u2190 ".concat((0,ne.Z)("btnPrevLesson"))})]})}),(0,u.jsx)("div",{className:"flex flex-row justify-end ml-4",children:(0,u.jsxs)(Ce,{onClick:r,show:t,children:[(0,u.jsx)("span",{className:"inline sm:hidden",children:"\u2192"}),(0,u.jsx)("span",{className:"hidden sm:inline",children:"".concat((0,ne.Z)("btnCompleteAndContinue")," \u2192")})]})})]})}var Le=t(5152),Ze=t.n(Le),_e=t(29815),Se=t(75026),Re=t(38354),Ee=t(47488),De=t(28368),Pe=t(27919),Ie=t(28063),Fe=(0,b.memo)((function(e){var n,t,r,s,l,i=e.reply,a=e.allowEdit,o=e.isAdmin,c=e.selected,d=e.onToggleVisibility,m=e.onEditReply,f=e.onDeleteReply,x=null===(n=i.user)||void 0===n?void 0:n.username,v=i.user?x:(0,ne.Z)("txtUserDeleted");return(0,u.jsxs)("div",{className:"flex flex-col p-3 rounded text-wgray-50 bg-player-darkergray ".concat(c?"border-2 border-dashed border-yellow-400":"border-player-gray"),children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3 justify-between",children:[(0,u.jsx)(Ee.Z,{className:"w-5 h-5 inline mr-2 rotate-[180deg]"}),(0,u.jsx)("div",{className:"relative shrink-0 h-10 w-10 rounded-full overflow-hidden -ml-2",children:(0,u.jsx)(Ie.q,{url:null===(t=i.user)||void 0===t||null===(r=t.avatar)||void 0===r?void 0:r.url,altText:(null===(s=i.user)||void 0===s?void 0:s.username)||"",width:100,height:100})}),(0,u.jsx)("span",{className:"text-base font-medium",children:v}),(null===(l=i.user)||void 0===l?void 0:l.admin)&&(0,u.jsxs)("span",{className:"bg-red-500 px-2 text-sm rounded uppercase whitespace-nowrap",children:[(0,ne.Z)("txtInstructor")," "]}),(0,u.jsx)("span",{className:"uppercase text-xs font-semibold text-wgray-400 whitespace-nowrap",children:(0,ae.WU)(i.createdAt)})]}),(0,u.jsx)(u.Fragment,{children:(a||o)&&(0,u.jsxs)("div",{children:[o&&(0,u.jsxs)("span",{onClick:function(e){e.stopPropagation(),d()},children:["visible"===i.state&&(0,u.jsx)(B.z5B,{className:"w-5 h-5 inline mr-2 text-slate-300 hover:text-current cursor-pointer"}),"visible"!==i.state&&(0,u.jsx)(B.tjB,{className:"w-5 h-5 inline mr-2 text-slate-300 hover:text-current cursor-pointer"})]}),(0,u.jsx)(Se.Z,{className:"w-5 h-5 inline mr-2 text-wgray-300 hover:text-wgray-50 cursor-pointer",onClick:function(e){e.stopPropagation(),m()}}),(0,u.jsx)(Re.Z,{className:"w-5 h-5 inline mr-2 text-wgray-300 hover:text-wgray-50 cursor-pointer",onClick:function(e){e.stopPropagation(),f()}})]})})]}),(0,u.jsx)("div",{className:"".concat(Y().html_container," w-full font-normal pt-5 pl-4"),children:K(i.body)})]})}));function Me(){var e=(0,o.Z)(['\n  query getDiscussion($id: ID!) {\n    discussion(id: $id) {\n      data {\n        __typename\n        id\n        createdAt\n        title\n        body\n        state\n        user {\n          __typename\n          data {\n            __typename\n            id\n            username\n            name\n            admin\n            avatar {\n              __typename\n              data {\n                __typename\n                id\n                url\n                alternativeText\n              }\n            }\n          }\n        }\n        replies(sort: "createdAt:asc") {\n          __typename\n          data {\n            ...ReplyFields\n          }\n        }\n      }\n    }\n  }\n  ',"\n"]);return Me=function(){return e},e}function He(){var e=(0,o.Z)(["\n  mutation reply($input: ReplyCreateInput!) {\n    createReply(data: $input) {\n      data {\n        ...ReplyFields\n      }\n    }\n  }\n  ","\n"]);return He=function(){return e},e}function qe(){var e=(0,o.Z)(["\n  mutation updateReply($id: ID!, $input: ReplyUpdateInput) {\n    updateReply(id: $id, data: $input) {\n      data {\n        ...ReplyFields\n      }\n    }\n  }\n  ","\n"]);return qe=function(){return e},e}function Ue(){var e=(0,o.Z)(["\n  mutation deleteReply($id: ID!) {\n    deleteReply(id: $id) {\n      data {\n        ...ReplyFields\n      }\n    }\n  }\n  ","\n"]);return Ue=function(){return e},e}Fe.displayName="Reply";var $e=Ze()((function(){return Promise.all([t.e(2937),t.e(1708),t.e(8591)]).then(t.bind(t,88591))}),{loadableGenerated:{webpack:function(){return[88591]}},ssr:!1}),Be=(0,q.ZP)(Me(),Pe.Uw),Te=(0,q.ZP)(He(),Pe.Uw),ze=(0,q.ZP)(qe(),Pe.Uw),Ve=(0,q.ZP)(Ue(),Pe.Uw);function Ae(e){var n,t,r,s,l=e.discussion,i=e.course,o=e.canReply,c=e.readOnly,d=void 0!==c&&c,m=e.expanded,f=void 0!==m&&m,x=e.admin,v=e.onDeleteDiscussion,p=e.onEditDiscussion,y=e.onChangeVisibility,w=e.onOpen,g=function(){R(void 0),N()},j=function(e){return D?(n=e,void G({variables:{id:D.id,input:{body:n}}})):0===e.length?Z(!1):void A({variables:{input:{body:e,discussion:U.id,course:i.id}}});var n},N=function(){Z(!1),P(void 0)},C=function(){var e,n,t;return(0,u.jsxs)(u.Fragment,{children:[!f&&(0,u.jsxs)("div",{className:"flex items-center",children:[x&&(0,u.jsxs)("span",{className:"p-2 flex-shrink-0",onClick:function(e){e.stopPropagation(),y(U)},children:["visible"===U.state&&(0,u.jsx)(B.z5B,{className:"w-6 h-6 inline mr-2 text-slate-300 hover:text-current cursor-pointer"}),"visible"!==U.state&&(0,u.jsx)(B.tjB,{className:"w-6 h-6 inline mr-2 text-slate-300 hover:text-current cursor-pointer"})]}),(0,u.jsx)("div",{className:"flex justify-center items-center text-base font-medium rounded-full w-9 h-9 bg-yellow-400 text-wgray-700 ",children:null!==(t=null===(e=U.replies)||void 0===e?void 0:e.length)&&void 0!==t?t:0})]}),f&&$&&(0,u.jsxs)("div",{className:"flex items-start",children:[x&&(0,u.jsxs)("span",{onClick:function(e){e.stopPropagation(),y(U)},children:["visible"===U.state&&(0,u.jsx)(B.z5B,{className:"w-6 h-6 inline mr-2 text-slate-300 hover:text-current cursor-pointer"}),"visible"!==U.state&&(0,u.jsx)(B.tjB,{className:"w-6 h-6 inline mr-2 text-slate-300 hover:text-current cursor-pointer"})]}),(0,u.jsx)(Se.Z,{className:"w-6 h-6 inline mr-2 text-wgray-300 hover:text-current cursor-pointer",onClick:function(e){e.stopPropagation(),p(U)}}),(x||0===(null===(n=U.replies)||void 0===n?void 0:n.length))&&(0,u.jsx)(Re.Z,{className:"w-6 h-6 inline text-wgray-300 hover:text-current cursor-pointer",onClick:function(e){e.stopPropagation(),window.confirm((0,ne.Z)("msgConfirmDeleteDiscussion"))&&v(U)}})]})]})},k=(0,b.useState)(!1),L=k[0],Z=k[1],_=(0,b.useState)(),S=_[0],R=_[1],E=(0,b.useState)(),D=E[0],P=E[1],I=(0,h.aC)(),F=(0,b.useRef)(null),M=(0,re.u_)(Be,{variables:{id:l.id}}),H=M.data,q=(M.loading,M.error),U=null!==(s=null===H||void 0===H?void 0:H.discussion)&&void 0!==s?s:l,$=!d&&o&&(null===(n=U.user)||void 0===n?void 0:n.id)===(null===I||void 0===I||null===(t=I.user)||void 0===t?void 0:t.id)||x,T=null===(r=U.user)||void 0===r?void 0:r.username,z=U.user?T:(0,ne.Z)("txtUserDeleted"),V=(0,a.Z)((0,se.G)(Te,{onError:function(e){R(e)},onCompleted:function(e){g()},update:function(e,n){var t=n.data;e.modify({id:e.identify({__typename:"Discussion",id:U.id}),fields:{replies:function(e){return(0,_e.Z)(e.data).concat([{__ref:"Reply:".concat(null===t||void 0===t?void 0:t.createReply.data.id)}])}}})}}),2),A=V[0],O=(V[1].data,(0,a.Z)((0,se.G)(ze,{onError:function(e){R(e)},onCompleted:function(){g()}}),1)),G=O[0],Q=(0,a.Z)((0,se.G)(Ve,{onError:function(e){R(e)},onCompleted:function(){g()},update:function(e,n){var t=n.data;if(t){var r=t.deleteReply.data;e.evict({id:e.identify({__typename:"Reply",id:r.id})})}}}),1),W=Q[0];return(0,b.useEffect)((function(){!f&&g()}),[f]),(0,b.useEffect)((function(){if(f&&F.current){var e=F.current;null===e||void 0===e||e.scrollIntoView(!0)}}),[f,F]),q?(0,u.jsx)(ie.H4,{message:(0,ne.Z)("msgFailedLoadDiscussion")}):(0,u.jsx)("div",{className:"relative w-full overflow-hidden rounded-md ".concat(f?"bg-[#2c2c2c] border border-dashed border-yellow-400/50":"bg-player-darkgray"),ref:F,children:(0,u.jsx)(De.p,{defaultOpen:f,children:function(){var e,n,t,r,s,l,i,a,c,m;return(0,u.jsxs)("div",{className:"rounded-md overflow-hidden transition-color duration-150 hover:bg-[#2c2c2c] p-2",children:[(0,u.jsx)(De.p.Button,{className:"w-full",children:(0,u.jsxs)("div",{onClick:function(){return w(U.id)},className:"flex flex-row items-center justify-between w-full  text-wgray-50 focus:outline-none",children:[(0,u.jsxs)("header",{className:"flex-auto flex flex-col gap-2 min-w-0 text-left px-4 py-2",children:[(0,u.jsx)("h1",{className:"w-full text-lg text-wgray-100 text-ellipsis overflow-hidden text-left ".concat(f&&"whitespace-nowrap"),title:U.title,children:U.title}),(0,u.jsx)("span",{className:"text-wgray-400 text-sm px-1",children:(0,ae.WU)(U.createdAt)})]}),(0,u.jsx)("div",{className:"shrink-0 p-4",children:C()})]})}),(0,u.jsx)(De.p.Panel,{static:!0,children:f&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex flex-col bg-player-darkergray gap-3 p-3 overflow-y-auto rounded-md",children:[(0,u.jsx)("div",{className:"".concat(Y().html_container," w-full text-wgray-50 text-lg border-b border-player-gray"),children:K(U.body)}),(0,u.jsxs)("div",{className:"flex flex-row gap-4 items-center text-wgray-50",children:[(0,u.jsx)("div",{className:"relative h-10 w-10 rounded-full overflow-hidden",children:(0,u.jsx)(Ie.q,{url:null===(e=U.user)||void 0===e||null===(n=e.avatar)||void 0===n?void 0:n.url,altText:(null===(t=U.user)||void 0===t?void 0:t.username)||"",width:100,height:100})}),(0,u.jsx)("span",{className:"text-base font-medium",children:z}),(null===(r=U.user)||void 0===r?void 0:r.admin)&&(0,u.jsxs)("span",{className:"bg-red-500 px-2 text-sm rounded uppercase whitespace-nowrap",children:[(0,ne.Z)("txtInstructor")," "]})]})]}),(0,u.jsx)("p",{className:"text-center my-4 text-yellow-400 font-medium",children:"".concat((null===(s=U.replies)||void 0===s?void 0:s.length)>0?"\u2193":""," ").concat((0,ne.K)("txtReplies","".concat(null===(l=U.replies)||void 0===l?void 0:l.length)))}),(0,u.jsxs)("div",{className:"replies-section flex flex-col mb-2",children:[(0,u.jsx)("ul",{className:"space-y-3",children:null===(i=U.replies)||void 0===i?void 0:i.map((function(e,n){var t,r;return(0,u.jsx)("li",{children:(0,u.jsx)(Fe,{reply:e,selected:e.id===(null===D||void 0===D?void 0:D.id),allowEdit:!d&&o&&(null===(t=e.user)||void 0===t?void 0:t.id)===(null===I||void 0===I||null===(r=I.user)||void 0===r?void 0:r.id),isAdmin:x,onToggleVisibility:function(){return function(e){G({variables:{id:e.id,input:{state:"hidden"===e.state?"visible":"hidden"}}})}(e)},onEditReply:function(){return function(e){P(e),Z(!0)}(e)},onDeleteReply:function(){return window.confirm((0,ne.Z)("msgConfirmDeleteReply"))&&function(e){W({variables:{id:e.id}})}(e)}})},n)}))}),S&&(0,u.jsx)("div",{className:"error-placeholder relative w-full",children:(0,u.jsx)("div",{className:"floatie absolute top=0 left-0 w-full",children:(0,u.jsx)(ie.H4,{message:S.message})})})]}),(!d&&o||x)&&!L&&(0,u.jsxs)("button",{className:"flex flex-row items-center justify-start w-full p-4 rounded-md text-yellow-400 bg-black",onClick:function(){return Z(!0)},children:[(0,u.jsx)(Ee.Z,{className:"w-5 h-5 inline mr-2"}),(0,ne.Z)("txtWriteReply")]}),L&&(0,u.jsx)($e,{placeholder:(0,ne.Z)("txtWriteReplyHere"),content:null!==(c=null===D||void 0===D?void 0:D.body)&&void 0!==c?c:"",buttonText:D?(0,ne.Z)("btnUpdate"):(0,ne.Z)("btnAdd"),cancelButtonText:(0,ne.Z)("btnCancel"),contentUploadPath:"ugc/".concat(null!==(m=null===(a=I.user)||void 0===a?void 0:a.id)&&void 0!==m?m:"unknown","/uploads"),onCancel:function(){return N()},onSubmit:function(e){return j(e)},autoFocus:!0})]})})]})}})})}var Oe=t(3781),Ge=t(80471);function Qe(){var e=(0,o.Z)(['\n  query getLessonDiscussions($lessonId: ID!) {\n    lesson(id: $lessonId) {\n      data {\n        __typename\n        id\n        discussions(sort: "createdAt:desc") {\n          __typename\n          data {\n            __typename\n            id\n            title\n            user {\n              data {\n                __typename\n                id\n                username\n                admin\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n']);return Qe=function(){return e},e}function We(){var e=(0,o.Z)(["\n  mutation ask($input: DiscussionInput!) {\n    createDiscussion(data: $input) {\n      __typename\n      data {\n        ...DiscussionFields\n      }\n    }\n  }\n  ","\n"]);return We=function(){return e},e}function Ke(){var e=(0,o.Z)(["\n  mutation updateDiscussion($id: ID!, $input: DiscussionInput!) {\n    updateDiscussion(id: $id, data: $input) {\n      __typename\n      data {\n        ...DiscussionFields\n      }\n    }\n  }\n  ","\n"]);return Ke=function(){return e},e}function Je(){var e=(0,o.Z)(["\n  mutation deleteDiscussion($id: ID!) {\n    deleteDiscussion(id: $id) {\n      __typename\n      data {\n        ...DiscussionFields\n      }\n    }\n  }\n  ","\n"]);return Je=function(){return e},e}var Ye=Ze()((function(){return Promise.all([t.e(2937),t.e(1708),t.e(8591)]).then(t.bind(t,88591))}),{loadableGenerated:{webpack:function(){return[88591]}},ssr:!1}),Xe=(0,q.Ps)(Qe()),en=(0,q.Ps)(We(),Pe.Nf),nn=(0,q.Ps)(Ke(),Pe.Nf),tn=(0,q.Ps)(Je(),Pe.Nf),rn=(0,b.memo)((function(e){var n,t=e.course,r=e.lessonId,s=e.openDiscussionId,l=e.user,i=e.onCloseClickHandler,o=e.onDiscussionsCountChange,c=function(){v(!1),j(""),k(void 0)},d=function(e){return C?(n=e,s=g,void q({variables:{id:C.id,input:{body:n,title:s}}})):0===e.length?v(!1):void M({variables:{input:{body:e,title:g,lesson:r,course:t.id}}});var n,s},m=function(){var e,n,r;return(0,u.jsxs)(u.Fragment,{children:[p&&(0,u.jsx)("div",{className:"error-placeholder relative w-full",children:(0,u.jsx)("div",{className:"floatie absolute top=0 left-0 w-full z-50",children:(0,u.jsx)(ie.H4,{message:p.message})})}),(0,u.jsxs)("header",{className:"flex flex-col items-center w-full p-2 mb-2 ",children:[(0,u.jsxs)("div",{className:"relative flex w-full items-center text-wgray-100 py-2",children:[(0,u.jsx)("h2",{className:"w-full text-center text-lg whitespace-nowrap capitalize",children:(0,ne.K)("txtDiscussions",I.length.toString())}),(0,u.jsx)("button",{className:"absolute right-0 top-0 px-2 text-yellow-400 ml-2 transform hover:scale-[1.2] duration-150",onClick:function(){return null===i||void 0===i?void 0:i()},children:(0,u.jsx)(Ge.Fk5,{className:"w-6 h-6"})})]}),S&&!x&&(0,u.jsxs)("button",{className:"btn-red bg-yellow-400 text-black hover:bg-yellow-500 w-full flex flex-row justify-center items-center my-1",onClick:function(){return v(!0)},children:[(0,u.jsx)(B.wEH,{className:"w-4 h-4 mr-2"}),(0,u.jsx)("span",{className:"text-lg font-normal whitespace-nowrap",children:(0,ne.Z)("btnNewDiscussion")})]}),t.readOnly&&(0,u.jsx)("div",{className:"flex flex-row w-full p-3 my-1 justify-center items-center rounded-lg border-red-500 border",children:(0,u.jsx)("span",{className:"text-white tracking-wide",children:(0,ne.Z)("txtNewDiscussionsNotAllowed")})})]}),x&&(0,u.jsxs)("div",{className:"px-2 overflow-y-auto",children:[(0,u.jsx)("label",{htmlFor:"discussion-title",className:"block py-2 text-wgray-50 capitalize required",children:(0,ne.Z)("txtTitle")}),(0,u.jsx)("input",{className:"w-full bg-wgray-900 border-wgray-600 text-wgray-50 border mb-4",type:"text",id:"discussion-title",tabIndex:1,placeholder:(0,ne.Z)("txtTitle"),required:!0,value:g,autoFocus:!0,onChange:function(e){return j(e.target.value)}}),(0,u.jsx)("label",{className:"block py-2 text-wgray-50 capitalize required",children:(0,ne.Z)("txtQuestion")}),(0,u.jsx)(Ye,{placeholder:(0,ne.Z)("txtWriteQuestionHere"),buttonText:C?(0,ne.Z)("btnUpdate"):(0,ne.Z)("btnCreate"),cancelButtonText:(0,ne.Z)("btnCancel"),content:C?C.body:"",contentUploadPath:"ugc/".concat(null!==(e=null===l||void 0===l?void 0:l.id)&&void 0!==e?e:"unknown","/uploads"),onCancel:function(){return c()},onSubmit:function(e){return d(e)}})]}),!x&&(0,u.jsx)("ul",{className:"overflow-y-auto px-2",children:I.map((function(e){return(0,u.jsx)("li",{id:"discussion-".concat(e.id),className:"my-4 w-full",children:(0,u.jsx)(Oe.S,{fallbackUi:(0,u.jsx)(ie.H4,{message:(0,ne.Z)("msgFailedLoadDiscussion")}),children:(0,u.jsx)(Ae,{discussion:e,course:t,onOpen:T,expanded:Z===e.id,canReply:t.enrolled||null!==(n=null===l||void 0===l?void 0:l.admin)&&void 0!==n&&n,readOnly:t.readOnly,admin:null!==(r=null===l||void 0===l?void 0:l.admin)&&void 0!==r&&r,onEditDiscussion:z,onDeleteDiscussion:V,onChangeVisibility:A})})},e.id)}))})]})},f=(0,b.useState)(!1),x=f[0],v=f[1],h=(0,b.useState)(),p=h[0],y=h[1],w=(0,b.useState)(""),g=w[0],j=w[1],N=(0,b.useState)(),C=N[0],k=N[1],L=(0,b.useState)(s),Z=L[0],_=L[1],S=t.enrolled&&!t.readOnly||(null===l||void 0===l?void 0:l.admin),R=(0,re.u_)(Xe,{variables:{lessonId:r}}),E=R.data,D=R.error,P=R.loading,I=null!==(n=null===E||void 0===E?void 0:E.lesson.discussions)&&void 0!==n?n:[],F=(0,a.Z)((0,se.G)(en,{refetchQueries:[{query:Xe,variables:{lessonId:r}}],onError:function(e){y(e),c()},onCompleted:function(){c()},update:function(e,n){n.data&&e.modify({id:e.identify({__typename:"Lesson",id:r}),fields:{discussionCount:function(e){return e+1}}})}}),2),M=F[0],H=(F[1].data,(0,a.Z)((0,se.G)(nn,{onError:function(e){y(e),c()},onCompleted:function(){c()},update:function(e,n){var t,r=n.data;if(r){var s=r.updateDiscussion;e.modify({id:e.identify({__typename:"Discussion",id:null===(t=s.data)||void 0===t?void 0:t.id}),fields:{state:function(){var e;return null===(e=s.data)||void 0===e?void 0:e.state}}})}}}),2)),q=H[0],U=(H[1].data,(0,a.Z)((0,se.G)(tn,{refetchQueries:[{query:Xe,variables:{lessonId:r}}],onError:function(e){y(e),c()},onCompleted:function(){c()},update:function(e,n){var t=n.data;t&&(e.evict({id:e.identify({__typename:"Discussion",id:t.deleteDiscussion.data.id})}),e.modify({id:e.identify({__typename:"Lesson",id:r}),fields:{discussionCount:function(e){return e-1}}}))}}),2)),$=U[0];U[1].data;(0,b.useEffect)((function(){E&&(y(void 0),o(E.lesson.discussions.length))}),[E]);var T=(0,b.useCallback)((function(e){_(e===Z?void 0:e)}),[Z]),z=(0,b.useCallback)((function(e){j(e.title),k(e),v(!0)}),[]),V=(0,b.useCallback)((function(e){$({variables:{id:e.id}})}),[$]),A=(0,b.useCallback)((function(e){q({variables:{id:e.id,input:{state:"hidden"===e.state?"visible":"hidden"}}})}),[q]);return(0,u.jsx)("section",{className:"discussions-panel flex flex-col shrink-0 w-full lg:w-128 h-full overflow-hidden pt-2 pb-2 bg-black",children:P?(0,u.jsx)("div",{className:"relative w-full h-full flex items-center justify-center text-white",children:(0,u.jsx)(le.y,{})}):(0,u.jsx)(u.Fragment,{children:D?(0,u.jsx)(ie.H4,{message:(0,ne.Z)("msgErrorFetchDiscussions")}):m()})})}));function sn(e){var n=e.className,t=e.children;return(0,u.jsx)("div",{className:"flex flex-row justify-evenly items-center w-full bg-player-darkergray border-b border-player-gray z-10 ".concat(n),children:t})}function ln(e){var n=e.className,t=e.children;return(0,u.jsx)("div",{className:"flex flex-row justify-evenly items-center w-full py-2 bg-black text-slate-200 ".concat(n),children:t})}rn.displayName="DiscussionsPanel";var an=(0,b.memo)((function(e){var n=e.className,t=e.homeButton,r=e.settingsMenu;return(0,u.jsxs)("section",{className:"flex flex-row justify-between px-4 ".concat(n),children:[t,(0,u.jsx)("div",{className:"relative",children:r})]})}));function on(e){var n=e.width,t=void 0===n?"1.5rem":n,r=e.height,s=void 0===r?"1.5rem":r;return(0,u.jsx)("svg",{width:t,height:s,xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{fill:"currentColor",d:"M20 9.999v-2h4v12.001h-3v4l-5.333-4h-7.667v-4h12v-6.001zm-2 4.001h-9.667l-5.333 4v-4h-3v-14.001h18v14.001z"})})}an.displayName="PlayerNavBar";var cn=t(79352);function un(e){var n=e.className,t=void 0===n?"":n,r=e.checked;return void 0!==r&&r?(0,u.jsx)(cn.GH$,{className:t}):(0,u.jsx)(cn.KR6,{className:t})}var dn=t(37106),mn=t(23946),fn=t(65575),xn=t(13342);function vn(e){var n=e.className,t=void 0===n?"":n,r=e.checked;return void 0!==r&&r?(0,u.jsx)(Ge.LOF,{className:t}):(0,u.jsx)(Ge.tL6,{className:t})}var hn=(0,b.memo)((function(e){var n,t=e.chapter,r=e.onClickHandler,s=e.currentLesson,l=(0,b.useRef)(null),i=(0,y.a)("(min-width: 1024px)"),a=null!==(n=t.lessons)&&void 0!==n?n:[],o=a.length,c=a.filter((function(e){return e.lesson.isCompleted})).length,d=o===c,m=a.map((function(e){return e.lesson.id})).includes(s),f=(0,b.useState)(m),x=f[0],v=f[1],h=(0,b.useState)(m),p=h[0],w=h[1];(0,b.useEffect)((function(){var e,n=(null!==(e=t.lessons)&&void 0!==e?e:[]).map((function(e){return e.lesson.id})).includes(s);w(n)}),[s,t]),(0,b.useEffect)((function(){if(i&&l.current&&x){var e=l.current;null===e||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}),[i,x,s]);var g=(0,b.useCallback)((function(e){v(e),w(e)}),[]),j=(0,b.useCallback)((function(e,n){r(n,e.metaKey)}),[r]);return(0,u.jsx)(fn.W,{onOpen:g,initialOpen:p,buttonContent:function(e){return(0,u.jsxs)("header",{className:"flex items-center pl-2 py-2 gap-2 border-b cursor-pointer \n            border-player-gray  bg-wgray-900 hover:bg-gray-800/70\n            ".concat(e&&"bg-opacity-60 border-b border-sky-400/70","\n            ").concat(m&&"bg-gray-800/70 hover:brightness-90"),children:[(0,u.jsx)(un,{className:"h-6 w-6 flex-shrink-0 ".concat(d?"text-yellow-400":"text-player-gray-dark"),checked:d}),(0,u.jsx)("h2",{className:"text-left text-lg",children:t.title}),(0,u.jsxs)("p",{className:"flex-1 text-sm text-right text-wgray-300 cursor-pointer",children:[c,"/",o]}),(0,u.jsx)(xn.Z,{className:"".concat((e||m)&&"text-sky-400"," ").concat(e&&"transform rotate-180"," m-2 h-6")})]})},children:(0,u.jsx)("ul",{className:"w-full bg-player-darkgray rounded-md overflow-hidden",children:a.map((function(e){var n=e.lesson;return(0,u.jsxs)("li",{ref:n.id===s?l:null,className:"flex w-full py-4 pl-3 text-wgray-300 text-base cursor-pointer bg-zinc-800 hover:bg-zinc-800/20\n              ".concat(n.id===s&&"bg-zinc-800/20"),onClick:function(e){return j(e,n.id)},children:[(0,u.jsx)(vn,{className:"h-5 w-5 flex-shrink-0 ".concat(n.isCompleted?"text-yellow-400":"text-player-gray-dark"),checked:n.isCompleted}),(0,u.jsxs)("div",{className:"item-description flex flex-col flex-grow ml-4",children:[(0,u.jsx)("span",{className:"text-base",children:n.title}),(0,u.jsxs)("div",{className:"lesson-info flex flex-row items-center text-xs tracking-wider py-2",children:["survey"===n.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(mn.f,{width:"1rem",height:"1rem"}),(0,u.jsx)("span",{className:"pl-2 text-base uppercase",children:(0,ne.Z)("txtSurvey")})]}),"lecture"===n.type&&(0,u.jsxs)(u.Fragment,{children:[n.duration>0?(0,u.jsx)(B.KoQ,{className:"w-4 h-4"}):(0,u.jsx)(dn.HlM,{className:"w-4 h-4"}),(0,u.jsxs)("span",{className:"pl-2 uppercase text-base",children:[(0,ne.Z)("txtLecture"),n.duration>0?" \xb7 ".concat((0,ae.Aq)(n.duration)):""]})]})]})]}),(0,u.jsx)("div",{className:"end-icons flex flex-row w-8 justify-center items-center pr-2 text-wgray-50",children:!1===n.canSee?(0,u.jsx)(B.kUi,{className:"w-4 h-4"}):n.hasSeen&&(0,u.jsx)(B.z5B,{className:"w-4 h-4"})})]},n.id)}))})})}));hn.displayName="ChapterSection";var pn=t(99023),yn=t(5434);function wn(e){var n=e.open,t=e.bgColor,r=e.className,s=e.onClickHandler;return(0,u.jsxs)("button",{className:"relative ".concat(r),type:"button","aria-label":"Hide",onClick:s,title:n?(0,ne.Z)("txtHideSidebar"):(0,ne.Z)("txtShowSidebar"),children:[(0,u.jsxs)("svg",{width:"15",height:"96",viewBox:"0 0 15 96",fill:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M0 0H3V1.00588C3.0011 4.42584 3.9102 9.97716 7.27295 13.2873C7.45088 13.4625 7.62629 13.6347 7.79957 13.8048L7.85959 13.8637C9.89318 15.8599 11.6678 17.602 12.9234 19.7206C14.0939 21.6956 14.792 23.9527 14.9602 27H15V68C15 71.7381 14.3125 74.3685 13.0144 76.6235C11.7533 78.8142 9.94312 80.5911 7.86152 82.6344L7.79905 82.6957C7.62594 82.8656 7.4507 83.0377 7.27295 83.2127C3.9102 86.5228 3.0011 92.0739 3 95.4938V96H0V0Z"}),(0,u.jsx)("path",{d:"M3 0H2V1.00619C2.0011 4.50696 2.9164 10.4021 6.57143 14C6.74993 14.1757 6.92582 14.3484 7.09903 14.5184C11.2616 18.6046 13.8752 21.1704 13.9957 28H14V68C14 75.2071 11.3611 77.7976 7.09857 81.9821L7.07621 82.004C6.91037 82.1668 6.7421 82.332 6.57143 82.5C2.9164 86.0979 2.0011 91.993 2 95.4938V96H3V95.4938C3.0011 92.0739 3.9102 86.5228 7.27295 83.2127C7.4507 83.0377 7.62594 82.8656 7.79905 82.6957L7.86152 82.6344C9.94312 80.5911 11.7533 78.8142 13.0144 76.6235C14.3125 74.3685 15 71.7381 15 68V27H14.9602C14.792 23.9527 14.0939 21.6956 12.9234 19.7206C11.6678 17.602 9.89318 15.8599 7.85959 13.8637L7.79957 13.8048C7.62629 13.6347 7.45088 13.4625 7.27295 13.2873C3.9102 9.97716 3.0011 4.42584 3 1.00588V0Z"})]}),(0,u.jsxs)("span",{"aria-hidden":"true",className:"absolute top-[38%] -right-[42%]",children:[n&&(0,u.jsx)(yn.ORz,{className:"w-7 h-7 text-wgray-50"}),!n&&(0,u.jsx)(yn.km,{className:"w-7 h-7 text-wgray-50"})]})]})}var gn=(0,b.memo)((function(e){var n=e.open,t=e.setOpen,r=e.chapters,s=e.title,l=e.progress,i=e.currentLessonId,a=e.onSelectLesson,o=e.rateButton;return(0,u.jsxs)("section",{className:"sidebar relative shrink-0 grow-0 px-2",children:[n&&(0,u.jsxs)("div",{className:"flex flex-col w-full h-full bg-black overflow-hidden lg:pt-2 pb-2 lg:w-[24rem] 2xl:w-[28rem]",children:[(0,u.jsxs)("section",{className:"header w-full bg-player-darkergray flex flex-col min-w-[20rem] rounded-md p-4 mb-2",children:[(0,u.jsx)("h1",{className:"course-title text-wgray-200 font-normal text-lg pt-1 mb-2",children:s}),(0,u.jsx)(pn.k,{progress:l,textClassName:"text-yellow-400",stickClassName:"bg-yellow-400"}),o&&(0,u.jsx)("div",{className:"flex flex-row items-center justify-between text-white",children:o})]}),(0,u.jsx)("nav",{className:"course-layout text-wgray-200 overflow-y-auto w-full",children:(0,u.jsxs)("ul",{className:"capters",children:[r.map((function(e){return(0,u.jsx)("li",{children:(0,u.jsx)(hn,{chapter:e,onClickHandler:a,currentLesson:i})},e.id)})),(0,u.jsx)("li",{className:"w-auto text-center text-yellow-400 ",children:"Code your dream!".toUpperCase()},"bottom-banner")]})})]}),(0,u.jsx)("div",{className:"absolute hidden lg:block top-1/3 left-[99.8%]",children:(0,u.jsx)(wn,{className:"text-wgray-400 hover:text-wgray-200 bg-transparent",onClickHandler:function(){return t(!n)},open:n,bgColor:"#434343"})})]})}));gn.displayName="SideBar";var bn=t(8193),jn=t(9008),Nn=t.n(jn),Cn=t(93313);function kn(){var e=(0,o.Z)(["\n  mutation markLessonComplete($input: CompleteLessonInput!) {\n    completeLesson(input: $input) {\n      __typename\n      id\n      isCompleted\n    }\n  }\n"]);return kn=function(){return e},e}function Ln(){var e=(0,o.Z)(["\n  query CoursesBySlug($slug: String!, $publicationState: PublicationState) {\n    courses(filters: { slug: { eq: $slug } }, publicationState: $publicationState) {\n      data {\n        ...CourseCoreForPlayerFields\n\n        body {\n          ...CourseBodyForPlayerFields\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Ln=function(){return e},e}var Zn="player-autoplay",_n="player-playback-speed",Sn="player-quality-pref",Rn="player-volume-pref",En=(0,q.ZP)(kn());function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.flatMap((function(e){var n;return(null!==(n=e.lessons)&&void 0!==n?n:[]).map((function(e){return e.lesson.id}))}))}function Pn(e){Cn.t8(Sn,String(e))}function In(e){Cn.t8(Rn,String(e))}function Fn(e){Cn.t8(_n,String(e))}var Mn=Un((function(e){var n,t,s,o,x,j,N,C=e.course,k=e.slug,L=function(){var e=(Y+1)%W.length;X(e),Ve(W[e])},Z=(0,w.useRouter)(),_=(0,h.aC)(),S=(0,y.a)("(min-width: 1536px)"),R=(0,b.useState)("true"===Cn.U2(Zn)),E=R[0],D=R[1],P=(0,b.useState)("1"===Cn.U2("das-player-no-load")),I=P[0],F=(P[1],Number.parseFloat(null!==(s=Cn.U2(_n))&&void 0!==s?s:"1")),M=null!==(o=Cn.U2(Sn))&&void 0!==o?o:"auto",H=Number.parseFloat(null!==(x=Cn.U2(Rn))&&void 0!==x?x:"1"),q=(0,b.useState)(""),U=q[0],$=q[1],T=(0,b.useState)(),z=T[0],V=T[1],A=(0,b.useState)(0),O=A[0],G=A[1],Q=(0,b.useState)([]),W=Q[0],K=Q[1],J=(0,b.useState)(0),Y=J[0],X=J[1],ee=(0,b.useState)(),te=ee[0],re=ee[1],le=(0,b.useState)(!1),ie=le[0],ae=le[1],oe=(0,b.useState)(!1),ce=oe[0],ue=oe[1],de=(0,b.useState)(!0),me=de[0],fe=de[1],xe=(0,b.useState)(!1),ve=xe[0],pe=xe[1],ye=(0,b.useState)(!1),we=ye[0],Ce=ye[1],Le=(0,b.useState)(null!==(j=!_.loading&&_.user&&C.enrolled&&Math.floor(C.watchedLessons/C.totalLessons*100)>=C.reviewThreshold)&&void 0!==j&&j),Ze=Le[0],_e=Le[1],Se=null!==(N=null===(n=_.user)||void 0===n?void 0:n.admin)&&void 0!==N&&N,Re=(0,b.useMemo)((function(){var e;return(null!==(e=C.body)&&void 0!==e?e:[]).filter((function(e){return!e.hidden||Se})).map((function(e){var n,t,r=null!==(t=null===(n=e.lessons)||void 0===n?void 0:n.filter((function(e){return!e.hidden||Se})))&&void 0!==t?t:[];return(0,i.Z)((0,l.Z)({},e),{lessons:r})}))}),[C,Se]),Ee=Z.query.lesson,De=Z.query.discussion,Pe=(0,b.useState)(De),Ie=Pe[0],Fe=Pe[1],Me="".concat(k,"/").concat("player-last-played"),He="".concat(k,"/").concat("course-completion-popup"),qe=(0,a.Z)((0,se.G)(En,{update:function(e,n){var t=!1;e.modify({id:e.identify({__typename:"Lesson",id:U}),fields:{isCompleted:function(e){return t=e,!0}}}),t||e.modify({id:e.identify({__typename:"Course",id:C.id}),fields:{watchedLessons:function(e){return e+1}}})}}),2),Ue=qe[0],$e=qe[1],Be=($e.error,$e.loading);(0,b.useEffect)((function(){var e,n=Dn(Re),t=Cn.U2(Me),r=null!==(e=null!==Ee&&void 0!==Ee?Ee:t)&&void 0!==e?e:"empty",s=n.includes(r)?r:n[0];if(!Ee||s!==Ee){var l="/courses/player/".concat(k,"/lessons/").concat(s);g().replace(l,l,{shallow:!0})}}),[Re,Me,Ee,k]),(0,b.useEffect)((function(){S||me&&ve&&pe(!1)}),[S]),(0,b.useEffect)((function(){De&&Fe(De)}),[De]),(0,b.useEffect)((function(){var e;re(null!==(e=Cn.U2(Me))&&void 0!==e?e:void 0)}),[Me]),(0,b.useEffect)((function(){K(Dn(Re))}),[Re]),(0,b.useEffect)((function(){Ee&&$(Ee)}),[Ee]),(0,b.useEffect)((function(){var e=null===W||void 0===W?void 0:W.findIndex((function(e){return e===Ee}));X(null!==e&&void 0!==e?e:0)}),[Ee,W]),(0,b.useEffect)((function(){void 0!==te&&Cn.t8(Me,te)}),[te,Me]),(0,b.useEffect)((function(){void 0!==E&&Cn.t8(Zn,String(E))}),[E]),(0,b.useEffect)((function(){C.watchedLessons===C.totalLessons&&"true"!==Cn.U2(He)&&(ue(!0),Cn.t8(He,"true"))}),[C.watchedLessons,C.totalLessons,He]),(0,b.useEffect)((function(){Ie&&pe(!0)}),[Ie]),(0,b.useEffect)((function(){_e(!_.loading&&_.user&&C.enrolled&&Math.floor(C.watchedLessons/C.totalLessons*100)>=C.reviewThreshold||!1)}),[_.loading,_.user,C.enrolled,C.reviewThreshold,C.totalLessons,C.watchedLessons]);var Te,ze=(0,b.useMemo)((function(){return{autoplay:E||!1,playbackRate:null!==F&&void 0!==F?F:1,quality:M,volume:H}}),[E,F,M,H]),Ve=(0,b.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t="/courses/player/".concat(k,"/lessons/").concat(e);n?window.open(t,"_blank","noopener,noreferrer"):Z.push(t,t,{shallow:!0})}),[Z,k]),Ae=(0,b.useCallback)((function(e){!S&&e&&pe(!e),fe(e)}),[S]),Oe=(0,b.useCallback)((function(){Ae(!me)}),[me,Ae]),Ge=(0,b.useCallback)((function(){_.user?Z.push("/dashboard"):Z.push("/courses/".concat(k))}),[_.user,Z,k]),Qe=(0,b.useCallback)((function(){D(!E)}),[E]),We=(0,b.useCallback)((function(){ae(!0)}),[]),Ke=(0,b.useCallback)((function(e){!S&&e&&fe(!e),pe(e)}),[S]),Je=(0,b.useCallback)((function(){Ke(!1)}),[Ke]),Ye=(0,b.useCallback)((function(e){V(e),G(e.discussionCount),C.enrolled&&re(e.id)}),[C.enrolled]);if(!Ee)return null;function Xe(e){return en.apply(this,arguments)}function en(){return(en=(0,r.Z)((function(e){return(0,c.__generator)(this,(function(n){return _.user?[2,Ue({variables:{input:{lesson:e,course:C.id}}}).catch((function(e){return(0,p.t)(e)}))]:[2]}))}))).apply(this,arguments)}function nn(){return(nn=(0,r.Z)((function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return Be?[2]:[4,Xe(U)];case 1:return e.sent(),L(),[2]}}))}))).apply(this,arguments)}function tn(){return(tn=(0,r.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return e="true"===Cn.U2(Zn),[4,Xe(U)];case 1:return n.sent(),e&&L(),[2]}}))}))).apply(this,arguments)}return _.loading?null:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Nn(),{children:(0,u.jsx)("title",{children:"Player: ".concat(C.title," - ").concat("\ub4dc\ub9bc\ucf54\ub529 \uc544\uce74\ub370\ubbf8 | Dream Coding Academy")})}),(0,u.jsxs)("main",{className:"relative flex flex-col w-full h-screen overflow-hidden bg-black",children:[_.user&&(0,u.jsxs)(u.Fragment,{children:[ie&&(0,u.jsx)(ge,{onClose:function(){return ae(!1)},children:(0,u.jsx)("div",{className:"flex items-center min-h-[16rem]",children:(0,u.jsx)(be.j,{courseId:C.id,courseTitle:C.title})})}),ce&&(0,u.jsx)(ge,{onClose:function(){return ue(!1)},children:(0,u.jsx)(je,{courseTitle:C.title,onRateBtnClick:function(){return ue(!1),void We()}})})]}),!we&&(0,u.jsx)("header",{className:"w-full z-40 p-2 bg-black border-b border-player-gray block lg:hidden",children:(0,u.jsx)(an,{homeButton:(0,u.jsx)("button",{className:"text-wgray-300 hover:text-wgray-100",onClick:Ge,children:(0,u.jsx)(f,{width:"1.5rem",height:"1.5rem"})}),settingsMenu:(0,u.jsx)(d.h,{className:"bg-wgray-800",ctrlElem:(0,u.jsx)("div",{className:"text-wgray-300 hover:text-wgray-100",children:(0,u.jsx)(m,{width:"1.5rem",height:"1.5rem"})}),items:[(0,u.jsx)("div",{className:"w-64 overflow-hidden rounded-md text-wgray-300 my-1 border-slate-300",children:(0,u.jsx)(v,{label:(0,ne.Z)("txtAutoplay"),isChecked:!0===E,onStateChange:Qe})},"1")]})})}),(0,u.jsxs)("section",{className:"document-body flex flex-col lg:flex-row w-full h-full overflow-auto bg-black",children:[!we&&(0,u.jsx)(gn,{open:me,setOpen:Oe,title:C.title,chapters:Re,progress:Math.floor((null!==(Te=C.watchedLessons)&&void 0!==Te?Te:0)/C.totalLessons*100),currentLessonId:U,onSelectLesson:Ve,rateButton:Ze?(0,u.jsx)(Ne,{onClick:We}):void 0}),(0,u.jsxs)("article",{className:"flex flex-col w-full h-full -order-1 lg:order-none",children:[(0,u.jsxs)(sn,{className:"p-2 overflow-hidden",children:[(0,u.jsx)("button",{className:"text-wgray-300 transition-all hover:text-yellow-300 hover:scale-110 hidden lg:block",onClick:Ge,children:(0,u.jsx)(f,{width:"1.8rem",height:"1.8rem"})}),(0,u.jsxs)("div",{className:"lesson-header flex items-center justify-between w-full px-6 py-1",children:[(0,u.jsx)("h1",{className:"lesson-title font-semibold text-lg flex-1 text-center text-wgray-300",children:null===z||void 0===z?void 0:z.title}),(0,u.jsx)("button",{className:"hidden lg:flex justify-even items-center px-0 py-1 text-wgray-300 hover:text-yellow-300 hover:scale-110 ring-gray-500",onClick:function(){return Ce(!we)},title:"Zen Mode",children:(0,u.jsxs)("i",{className:"px-1 mr-1",children:[!we&&(0,u.jsx)(bn.vju,{className:"w-6 h-6"}),we&&(0,u.jsx)(bn.sz8,{className:"w-6 h-6"})]})}),!we&&(0,u.jsx)(d.h,{className:"bg-wgray-800",ctrlElem:(0,u.jsx)("div",{className:"text-wgray-300 hover:text-yellow-300 hover:scale-110 mr-2 mt-1 hidden lg:block",children:(0,u.jsx)(m,{width:"1.5rem",height:"1.5rem"})}),items:[(0,u.jsx)("div",{className:"w-64 overflow-hidden rounded-md text-wgray-300 my-1 border-slate-300",children:(0,u.jsx)(v,{label:(0,ne.Z)("txtAutoplay"),isChecked:!0===E,onStateChange:Qe})},"1")]}),!we&&(0,u.jsxs)("div",{className:"flex flex-row items-center",children:[(0,u.jsxs)("button",{className:"player-header-button h-9 flex lg:hidden flex-row justify-even items-center mx-2",onClick:function(){return Ae(!me)},children:[(0,u.jsx)("i",{className:"px-1 mr-1",children:(0,u.jsx)(B.mko,{className:"w-5 h-5"})}),(0,u.jsx)("span",{className:"hidden sm:inline capitalize",children:(0,ne.Z)("btnChapters")})]}),(null===z||void 0===z?void 0:z.canSee)&&(null===z||void 0===z?void 0:z.allowComments)&&(0,u.jsxs)("button",{className:"player-header-button h-9 flex flex-row justify-even items-center",onClick:function(){return Ke(!ve)},children:[(0,u.jsx)("i",{className:"px-1 mr-1",children:(0,u.jsx)(on,{width:"1rem",height:"1rem"})}),(0,u.jsx)("span",{className:"hidden sm:inline",children:"".concat((0,ne.Z)("btnDiscussions")," (").concat(O,")")}),(0,u.jsx)("span",{className:"inline sm:hidden",children:O})]})]})]})]}),U&&(0,u.jsx)(he,{showPlayer:!I,lessonId:U,userId:null===(t=_.user)||void 0===t?void 0:t.id,course:C,onLessonLoad:Ye,onPlayEnd:function(){return tn.apply(this,arguments)},onSubmitSurvey:function(){return Xe(U)},onQualityChange:Pn,onSpeedChange:Fn,onVolumeChange:In,playerSettings:ze}),(0,u.jsx)(ln,{children:(0,u.jsx)("div",{className:"mx-auto",children:!C.archived&&C.enrolled&&(0,u.jsx)(ke,{showPrev:Y>0,showNext:!0,onNext:function(){return nn.apply(this,arguments)},onPrev:function(){var e=Y-1;X(e),Ve(W[e])}})})})]}),(null===z||void 0===z?void 0:z.canSee)&&(null===z||void 0===z?void 0:z.allowComments)&&ve&&!we&&(0,u.jsx)(rn,{course:C,lessonId:U,openDiscussionId:Ie,user:_.user,onDiscussionsCountChange:G,onCloseClickHandler:Je})]})]})]})})),Hn=Mn,qn=(0,q.ZP)(Ln(),Pe.aU,Pe.JY);function Un(e){return function(n){var t,r=(0,w.useRouter)(),i=(0,h.aC)(),a=r.query.course,o=(0,s.Z)({},n),c=(0,re.u_)(qn,{variables:{slug:a,publicationState:(null===(t=i.user)||void 0===t?void 0:t.admin)?"PREVIEW":"LIVE"},skip:!a}),d=c.data;return c.loading||!d||i.loading?(0,u.jsx)("div",{className:"relative mx-auto my-16 w-full",children:(0,u.jsx)(le.y,{})}):(o.slug=a,(null===d||void 0===d?void 0:d.courses)&&(o.course=null===d||void 0===d?void 0:d.courses[0]),(0,u.jsx)(e,(0,l.Z)({},o)))}}},59194:function(e,n,t){"use strict";t.d(n,{Aq:function(){return i},C0:function(){return f},EE:function(){return o},WU:function(){return m},nH:function(){return a},td:function(){return d},xG:function(){return u}});var r=t(42482),s=t(52165),l=t(52392);function i(e){var n=Math.floor(e/60),t=e%60;return"".concat(String(n).padStart(2,"0"),":").concat(String(t).padStart(2,"0"))}function a(e){var n=Math.floor(e/60/60),t=Math.floor((e-60*n*60)/60),s=n>0?"".concat(n," ").concat((0,r.Z)("txtHourShort")," "):"";return s+="".concat(t," ").concat((0,r.Z)("txtMinuteShort"))}function o(e){var n=Math.max(+Date.parse(e)-+new Date,0),t=Math.floor(n/1e3%60),r=Math.floor(n/1e3/60%60),s=Math.floor(n/36e5%24);return{total:n,days:Math.floor(n/864e5),hours:s,minutes:r,seconds:t}}(0,s.z2)("ko",l.Z);var c={KRW:new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}),USD:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})};function u(e,n){return c[n].format(e)}function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var t=1024,r=n<0?0:n,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,l)).toFixed(r))+" "+s[l]}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ko";return(0,s.WU)(e,n)}function f(e,n){return e.setMonth(e.getMonth()-n),e.toISOString()}},86834:function(e){e.exports={html_container:"markdown-styles_html_container__L22fZ","radio-label":"markdown-styles_radio-label__sT3oA"}},86575:function(e){e.exports={spinner:"circle-spinner_spinner__Dl8sI",rotate_circle:"circle-spinner_rotate_circle__qi6NW"}},62132:function(e){e.exports={video_frame:"video_video_frame__Ptwmh"}}},function(e){e.O(0,[5445,8907,5937,4617,9866,955,4027,5935,4672,9774,2888,179],(function(){return n=32106,e(e.s=n);var n}));var n=e.O();_N_E=n}]);